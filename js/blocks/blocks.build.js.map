{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./blocks/blocks.js","webpack:///./blocks/i18n.js","webpack:///./blocks/membership/block.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["wp","i18n","setLocaleData","__","blocks","registerBlockType","AlignmentToolbar","BlockControls","BlockAlignmentToolbar","components","PanelBody","PanelRow","TextControl","SelectControl","editor","RichText","InspectorControls","InnerBlocks","member_levels","pmpro","all_level_values_and_labels","all_levels","value","label","concat","title","description","category","icon","background","foreground","src","keywords","attributes","levels","type","default","uid","edit","props","className","setAttributes","isSelected","rand","Math","random","save"],"mappings":"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","file":"blocks.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./blocks/blocks.js\");\n","/**\n * Import internationalization\n */\nimport './i18n.js';\n\n/**\n * Import registerBlockType blocks\n */\n// import './checkout-button/block.js';\n// import './account-page/block.js';\n// import './account-membership-section/block.js';\n// import './account-profile-section/block.js';\n// import './account-invoices-section/block.js';\n// import './account-links-section/block.js';\n// import './billing-page/block.js';\n// import './cancel-page/block.js';\n// import './checkout-page/block.js';\n// import './confirmation-page/block.js';\n// import './invoice-page/block.js';\n// import './levels-page/block.js';\nimport './membership/block.js';\n","wp.i18n.setLocaleData( { '': {} }, 'paid-memberships-pro' );\n","/**\n * Block: PMPro Membership\n *\n *\n */\n /**\n  * Block dependencies\n  */\n//  import './editor.css';\n//  import classnames from 'classnames';\n\n /**\n  * Internal block libraries\n  */\n const { __ } = wp.i18n;\n const {\n    registerBlockType,\n    AlignmentToolbar,\n    BlockControls,\n    BlockAlignmentToolbar,\n} = wp.blocks;\nconst {\n    PanelBody,\n    PanelRow,\n    TextControl,\n    SelectControl,\n} = wp.components;\n\nconst {\n    RichText,\n    InspectorControls,\n    InnerBlocks,\n} = wp.editor;\n\nconst member_levels = pmpro.all_level_values_and_labels;\n\nconst all_levels = [{ value: 0, label: \"Non-Members\" }].concat( {member_levels} );\n\n /**\n  * Register block\n  */\n export default registerBlockType(\n     'pmpro/membership',\n     {\n         title: __( 'Require Membership Block', 'paid-memberships-pro' ),\n         description: __( 'Control the visibility of nested blocks for members or non-members.', 'paid-memberships-pro' ),\n         category: 'pmpro',\n         icon: {\n            background: '#2997c8',\n            foreground: '#ffffff',\n            src: 'visibility',\n         },\n         keywords: [ __( 'pmpro', 'paid-memberships-pro' ) ],\n         attributes: {\n             levels: {\n                 type: 'array',\n                 default:[]\n             },\n             uid: {\n                 type: 'string',\n                 default:'',\n             },\n         },\n         edit: props => {\n             const { attributes: {levels, uid}, className, setAttributes, isSelected } = props;\n             if( uid=='' ) {\n               var rand = Math.random()+\"\";\n               setAttributes( { uid:rand } );\n             }\n             return [\n                isSelected && <InspectorControls>\n                    <PanelBody>\n                        <SelectControl\n                            multiple\n                            label={ __( 'Select levels to show content to:' ) }\n                            value={ levels }\n                            onChange={ levels => { setAttributes( { levels } ) } }\n                            options={ all_levels }\n                        />\n                    </PanelBody>\n                </InspectorControls>,\n                isSelected && <div className={ className } >\n                  <span class=\"pmpro-membership-title\">Require Membership</span>\n                  <PanelBody>\n                      <SelectControl\n                          multiple\n                          label={ __( 'Select levels to show content to:' ) }\n                          value={ levels }\n                          onChange={ levels => { setAttributes( { levels } ) } }\n                          options={ all_levels }\n                      />\n                  </PanelBody>\n                  <InnerBlocks templateLock={ false } />\n                </div>,\n                ! isSelected && <div className={ className } >\n                  <span class=\"pmpro-membership-title\">Require Membership: { levels }</span>\n                  <InnerBlocks templateLock={ false } />\n                </div>,\n            ];\n         },\n         save: props => {\n           const { attributes: {levels, uid}, className, isSelected } = props;\n        \t\treturn (\n        \t\t\t<div className={ className }>\n        \t\t\t\t<InnerBlocks.Content />\n        \t\t\t</div>\n        \t\t);\n        \t},\n       }\n );\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}